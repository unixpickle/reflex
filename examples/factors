# Get all the factors of a number

factors = {
  input = x # x is passed as an argument
  f = 2 # the current guess for a factor

  result_if_not_divisible = @(f:=f + 1)!
  result_if_divisible = @(x:=input / f, f=2)!
  is_prime = f * f > input
  is_not_divisible = input % f
  result = is_prime
    ? x.str
    : is_not_divisible
      ? result_if_not_divisible
      : f.str + " " + result_if_divisible
}

result = factors(x=246)!
