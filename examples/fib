## Get an arbitrary fibonacci number

# Any object with a next attribute.
Stream = {
  # Call next n times and get the result
  after = {
    result = n ? ^.next.after(n:=n - 1)! : ^
  }
}

Fib = Stream[
  a = 1
  b = 1
  next = @(a:=b b:=a + b)
]

result = Fib.after[n=30]!.b
